import{b as n}from"./p-707d1bff.js";function e(n,e,t){var r={},i=0;t&&n[t.prop]>0&&t.skillRequirements&&t.skillRequirements.forEach(function(e){o(n,e)}),Object.keys(e).forEach(function(t){var o=e[t];i+=n[o.prop],r[o.prop]={locked:!1,required:void 0,limitReached:!1}}),t&&i>72&&(n[t.prop]-=i-72),Object.keys(e).forEach(function(t){var o=e[t];o.skillRequirements&&o.skillRequirements.forEach(function(e){n[e.skill.prop]<e.level&&(r[o.prop].locked=!0,n[o.prop]=0)}),r[o.prop].limitReached=i>=72,0===n[o.prop]&&c(n,o)+1>72-i&&(r[o.prop].limitReached=!0)}),n.skills=r}function t(n,e,t){if(e.skillRequirements){var r=!1;e.skillRequirements.forEach(function(e){if(n[e.skill.prop]<e.level){var i=t?"Level "+e.level+"+":void 0;n.skills[e.skill.prop].required!==i&&(n.skills[e.skill.prop].required=i,r=!0)}}),r&&(n.skills=Object.assign({},n.skills))}}function r(e,r,i,o,c){return void 0===o&&(o=!1),Object.keys(r).map(function(u){var a=r[u],f=e.skills[a.prop];return n("ms-skill",Object.assign({class:a.prop,skill:a,level:e[a.prop],locked:f.locked,required:f.required,limitReached:f.limitReached,disabled:!i,loop:i,onLevelchanged:function(n){return e.levelChanged(a,n.detail)},onMouseEnter:function(){return f.locked&&t(e,a,!0)},onMouseLeave:function(){return f.locked&&t(e,a,!1)},extras:o},c))})}function i(n,e,t){var r={skills:Object.keys(e).map(function(t){var r=e[t];return{skill:r.name,attr:r.attr,prop:r.prop,level:n[r.prop],minLevel:r.minLevel,maxLevel:r.maxLevel}})};return t&&(r.other=Object.keys(t).map(function(n){return{attr:n,value:t[n]}})),r}function o(n,e){n[e.skill.prop]<e.level&&(n[e.skill.prop]=e.level),e.skill.skillRequirements&&e.skill.skillRequirements.forEach(function(e){o(n,e)})}function c(n,e){var t=0;return e.skillRequirements?(e.skillRequirements.forEach(function(e){t+=c(n,e.skill),t+=Math.max(0,e.level-n[e.skill.prop])}),t):0}export{e as a,i as b,r as c};
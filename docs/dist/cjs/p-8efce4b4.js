var e=require("./p-5f48ee19.js");function t(e,t,l){if(t.skillRequirements){let r=!1;t.skillRequirements.forEach(t=>{if(e[t.skill.prop]<t.level){let i=l?`Level ${t.level}+`:void 0;e.skills[t.skill.prop].required!==i&&(e.skills[t.skill.prop].required=i,r=!0)}}),r&&(e.skills=Object.assign({},e.skills))}}exports.processSkills=function(e,t,l){let r={},i=0;l&&e[l.prop]>0&&l.skillRequirements&&l.skillRequirements.forEach(t=>{!function e(t,l){t[l.skill.prop]<l.level&&(t[l.skill.prop]=l.level),l.skill.skillRequirements&&l.skill.skillRequirements.forEach(l=>{e(t,l)})}(e,t)}),Object.keys(t).forEach(l=>{let n=t[l];i+=e[n.prop],r[n.prop]={locked:!1,required:void 0,limitReached:!1}}),l&&i>72&&(e[l.prop]-=i-72),Object.keys(t).forEach(l=>{let n=t[l];n.skillRequirements&&n.skillRequirements.forEach(t=>{e[t.skill.prop]<t.level&&(r[n.prop].locked=!0,e[n.prop]=0)}),r[n.prop].limitReached=i>=72,0===e[n.prop]&&function e(t,l){let r=0;return l.skillRequirements?(l.skillRequirements.forEach(l=>{r+=e(t,l.skill),r+=Math.max(0,l.level-t[l.skill.prop])}),r):0}(e,n)+1>72-i&&(r[n.prop].limitReached=!0)}),e.skills=r},exports.renderLevelControls=function(l,r,i,n=!1,o){return Object.keys(r).map(c=>{let u=r[c],s=l.skills[u.prop];return e.h("ms-skill",Object.assign({class:u.prop,skill:u,level:l[u.prop],locked:s.locked,required:s.required,limitReached:s.limitReached,disabled:!i,loop:i,onLevelchanged:e=>l.levelChanged(u,e.detail),onMouseEnter:()=>s.locked&&t(l,u,!0),onMouseLeave:()=>s.locked&&t(l,u,!1),extras:n},o))})},exports.toSkillChangeEventObject=function(e,t,l){let r={skills:Object.keys(t).map(l=>{let r=t[l];return{skill:r.name,attr:r.attr,prop:r.prop,level:e[r.prop],minLevel:r.minLevel,maxLevel:r.maxLevel}})};return l&&(r.other=Object.keys(l).map(e=>({attr:e,value:l[e]}))),r};
import{b as e}from"./p-8e447e8d.js";function t(e,t,l){let i={},n=0;l&&e[l.prop]>0&&l.skillRequirements&&l.skillRequirements.forEach(t=>{!function e(t,l){t[l.skill.prop]<l.level&&(t[l.skill.prop]=l.level),l.skill.skillRequirements&&l.skill.skillRequirements.forEach(l=>{e(t,l)})}(e,t)}),Object.keys(t).forEach(l=>{let r=t[l];n+=e[r.prop],i[r.prop]={locked:!1,required:void 0,limitReached:!1}}),l&&n>72&&(e[l.prop]-=n-72),Object.keys(t).forEach(l=>{let r=t[l];r.skillRequirements&&r.skillRequirements.forEach(t=>{e[t.skill.prop]<t.level&&(i[r.prop].locked=!0,e[r.prop]=0)}),i[r.prop].limitReached=n>=72,0===e[r.prop]&&function e(t,l){let i=0;return l.skillRequirements?(l.skillRequirements.forEach(l=>{i+=e(t,l.skill),i+=Math.max(0,l.level-t[l.skill.prop])}),i):0}(e,r)+1>72-n&&(i[r.prop].limitReached=!0)}),e.skills=i}function l(e,t,l){if(t.skillRequirements){let i=!1;t.skillRequirements.forEach(t=>{if(e[t.skill.prop]<t.level){let n=l?`Level ${t.level}+`:void 0;e.skills[t.skill.prop].required!==n&&(e.skills[t.skill.prop].required=n,i=!0)}}),i&&(e.skills=Object.assign({},e.skills))}}function i(t,i,n,r=!1,o){return Object.keys(i).map(c=>{let a=i[c],s=t.skills[a.prop];return e("ms-skill",Object.assign({class:a.prop,skill:a,level:t[a.prop],locked:s.locked,required:s.required,limitReached:s.limitReached,disabled:!n,loop:n,onLevelchanged:e=>t.levelChanged(a,e.detail),onMouseEnter:()=>s.locked&&l(t,a,!0),onMouseLeave:()=>s.locked&&l(t,a,!1),extras:r},o))})}function n(e,t,l){let i={skills:Object.keys(t).map(l=>{let i=t[l];return{skill:i.name,attr:i.attr,prop:i.prop,level:e[i.prop],minLevel:i.minLevel,maxLevel:i.maxLevel}})};return l&&(i.other=Object.keys(l).map(e=>({attr:e,value:l[e]}))),i}export{t as a,n as b,i as c};